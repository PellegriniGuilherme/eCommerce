import{u as k,r as m,j as i,a as e,b as y}from"./app.5627331b.js";import{I as s,B as v}from"./Button.670e6e96.js";import{M as N}from"./MaskInput.96ba8832.js";import{d as z,e as w}from"./index.esm.3ede2b1d.js";function A({user:r}){const{data:t,setData:n,post:x,processing:h,errors:o,reset:D,setError:p,clearErrors:f}=k({cep:r.address[0].cep,endereco:r.address[0].endereco,bairro:r.address[0].bairro,cidade:r.address[0].cidade,numero:r.address[0].numero,complemento:r.address[0].complemento?r.address[0].complemento:"",referencia:r.address[0].referencia?r.address[0].referencia:"",estado:r.address[0].estado,pais:r.address[0].pais}),[c,u]=m.exports.useState(),b=m.exports.useRef(),g=async a=>{await y.get(`http://viacep.com.br/ws/${a}/json/`).then(l=>{l.data.erro?p("cep","N\xE3o foi poss\xEDvel localizar o seu CEP"):(n(E=>({...E,bairro:l.data.bairro,endereco:l.data.logradouro,estado:l.data.uf,cidade:l.data.localidade,pais:"Brasil"})),u(!0))}).catch(l=>{p("cep","N\xE3o foi poss\xEDvel localizar o seu CEP")})};m.exports.useEffect(()=>{t.cep.length===8?g(t.cep):(u(!1),f("cep"))},[t.cep]);const d=a=>{n(a.target.name,a.target.type==="checkbox"?a.target.checked:a.target.value)},C=a=>{n(a.target.name,a.target.type==="checkbox"?a.target.checked:a.target.value.replace(/[^0-9]/g,""))};return i("div",{className:"w-full md:col-span-2 p-2 md:p-8 md:py-4 flex flex-col rounded-md bg-zinc-50 border-t-2 border-zinc-600",children:[i("div",{className:"flex flex-row items-center mb-5",children:[e(z,{className:"flex text-2xl font-bold text-zinc-800 mr-3",size:24}),e("h1",{className:"text-xl font-bold text-zinc-800 mr-5",children:"Endere\xE7o"})]}),i("form",{onSubmit:a=>{a.preventDefault(),x(route("profile.address.update",r.address[0].id))},className:"grid grid-cols-1 md:grid-cols-3 gap-y-4 gap-x-10",children:[e(N,{type:"text",label:"CEP",name:"cep",mask:"99999-999",value:t.cep,autoComplete:"cep",handleChange:C,error:o.cep,iconRight:e("a",{href:"https://buscacepinter.correios.com.br/app/endereco/index.php",target:"_blank",alt:"N\xE3o sei meu CEP",children:e(w,{size:24,className:"text-zinc-800"})})}),e(s,{type:"text",label:"Endere\xE7o",name:"endereco",mask:"",value:t.endereco,autoComplete:"endereco",handleChange:d,error:o.endereco,disabled:c}),e(s,{ref:b,type:"text",label:"N\xFAmero",name:"numero",mask:"",value:t.numero,autoComplete:"estado",handleChange:d,error:o.numero}),e(s,{type:"text",label:"Complemento",name:"complemento",mask:"",value:t.complemento,autoComplete:"complemento",handleChange:d,error:o.complemento}),e(s,{type:"text",label:"Refer\xEAncia",name:"referencia",mask:"",value:t.referencia,autoComplete:"referencia",handleChange:d,error:o.referencia}),e(s,{type:"text",label:"Bairro",name:"bairro",mask:"",value:t.bairro,autoComplete:"bairro",handleChange:d,error:o.bairro,disabled:c}),e(s,{type:"text",label:"Cidade",name:"cidade",mask:"",value:t.cidade,autoComplete:"cidade",handleChange:d,error:o.cidade,disabled:c}),e(s,{type:"text",label:"Estado",name:"estado",mask:"",value:t.estado,autoComplete:"estado",handleChange:d,error:o.estado,disabled:c}),e(s,{type:"text",label:"Pais",name:"pais",mask:"",value:t.pais,autoComplete:"pais",handleChange:d,error:o.pais,disabled:c}),e("div",{className:"flex flex-row md:col-span-3",children:e(v,{className:"ml-auto w-full md:w-1/2",processing:h,children:"Salvar"})})]})]})}export{A as default};
